(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9071:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(5893),o=r(6265);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a=function(e){var t=e.props,r=e.color;return(0,n.jsxs)("mesh",i(i({},t),{},{children:[(0,n.jsx)("coneGeometry",{args:[.1,.4]}),(0,n.jsx)("meshBasicMaterial",{color:r})]}))},u=r(9227),s=r(5769),l=r(9088),f=r(5648),p=r(7294),m=r(1834);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b,O=Object.fromEntries(Object.entries({11:"LeftArm",13:"LeftForeArm",15:"LeftHand"}).map((function(e){var t=(0,u.Z)(e,2),r=t[0],n=t[1];return[r,"mixamorig".concat(n)]}))),d=(Object.fromEntries(Object.entries(O).map((function(e){var t=(0,u.Z)(e,2),r=t[0],n=t[1];return[Number(r)+1,n.replace("Left","Right")]}))),h({},O)),g=(h(h({},(b=d,Object.fromEntries(Object.entries(b).map((function(e){var t=(0,u.Z)(e,2),r=t[0];return[t[1],r]}))))),{},{LeftShoulder:"11",RightShoulder:"12"}),new m.Vector3(.02,.02,.02)),y=function(){var e=(0,s.m)("stacy.jpg"),t=(0,l.L)("dancer.glb","/").nodes,r=t.Beta_Surface,o=function(e){var t=e.nodes,r=(0,p.useState)((function(){return new m.Vector3}))[0],n=(0,p.useState)((function(){return new m.Quaternion}))[0],o=((0,p.useState)((function(){return new m.Euler}))[0],(0,p.useState)(new m.Euler)),c=o[0],i=(o[1],(0,p.useState)(new m.Vector3)),a=i[0],s=i[1],l=(0,p.useRef)(null);return{debug:function(e,o){Math.sin(e.getElapsedTime()%(2*Math.PI)-Math.PI),Math.cos(e.getElapsedTime()%(2*Math.PI)-Math.PI),Math.tan(e.getElapsedTime()%(2*Math.PI)-Math.PI);var c=r.set(10*o.x,10*o.y,0),i=n.setFromUnitVectors(new m.Vector3(0,1,0),c.clone().normalize());s(c),l.current&&(l.current.position.x=c.x,l.current.position.y=c.y,l.current.setRotationFromQuaternion(i),console.log(l)),Object.entries(d).map((function(e){var r=(0,u.Z)(e,2),n=(r[0],r[1]),o=t[n],c=(new m.Vector3(0,0,0),new m.Quaternion),a=i.clone().multiply(new m.Quaternion(0,0,-.8509035,.525322));if(n.includes("Left")){var s;null===(s=o.parent)||void 0===s||s.getWorldQuaternion(c);var l=c.clone().invert().multiply(a).multiply(new m.Quaternion(0,-1,0,0));o.setRotationFromQuaternion(l)}else{var f;null===(f=o.parent)||void 0===f||f.getWorldQuaternion(c);var p=c.clone().invert().multiply(a).multiply(new m.Quaternion(.7,0,0,.7));o.setRotationFromQuaternion(p)}}))},coneE:c,coneVec3:a,coneRef:l}}({nodes:t}),c=o.debug,i=o.coneE,j=o.coneVec3,h=o.coneRef;return(0,f.xQ)((function(e){var t=e.clock,r=e.mouse;c(t,r)})),(0,n.jsx)("group",{dispose:null,children:"geometry"in r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{props:{rotation:i,position:j,ref:h},color:"green"}),(0,n.jsxs)("group",{rotation:[Math.PI/2,0,Math.PI],scale:g,children:[(0,n.jsx)("primitive",{object:t.mixamorigHips}),(0,n.jsx)("skinnedMesh",{receiveShadow:!0,castShadow:!0,geometry:r.geometry,skeleton:r.skeleton,children:(0,n.jsx)("meshBasicMaterial",{map:e,"map-flipY":!1,skinning:!0})})]})]}):null})},v=r(2401),w=(new m.Vector3(.02,.02,.02),function(){var e=(0,f.Ky)().camera;return(0,n.jsx)(v.z,{camera:e})});function P(){var e=(0,p.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(f.Xz,{style:{height:"70vh"},children:[(0,n.jsx)(p.Suspense,{fallback:null,children:(0,n.jsx)(y,{})}),(0,n.jsx)(w,{})]}),(0,n.jsx)("video",{autoPlay:!0,ref:e,width:300})]})}},5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9071)}])}},function(e){e.O(0,[774,737,316,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);